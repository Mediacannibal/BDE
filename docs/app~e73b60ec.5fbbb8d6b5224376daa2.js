(this.webpackJsonp=this.webpackJsonp||[]).push([[30],{284:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(17),i=a(16),s=a(37);function l(e,t,a,n,r,c,i){try{var s=e[c](i),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(n,r)}var o=function(e){var t=e.onViewModeChange,a=e.onViewListChange,o=e.isChecked,m=e.project_data,d=Object(c.a)().auth;Object(n.useEffect)((function(){void 0===m&&u()}),[]);var u=function(){Object(i.g)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status||(console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(a)));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function i(e){l(c,n,r,i,s,"next",e)}function s(e){l(c,n,r,i,s,"throw",e)}i(void 0)}))});return function(e,a){return t.apply(this,arguments)}}(),d)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ViewContainer"},r.a.createElement("button",{className:"Button",onClick:function(){return t(s.a.QuarterDay)}},"Quarter of Day"),r.a.createElement("button",{className:"Button",onClick:function(){return t(s.a.HalfDay)}},"Half of Day"),r.a.createElement("button",{className:"Button",onClick:function(){return t(s.a.Day)}},"Day"),r.a.createElement("button",{className:"Button",onClick:function(){return t(s.a.Week)}},"Week"),r.a.createElement("button",{className:"Button",onClick:function(){return t(s.a.Month)}},"Month"),r.a.createElement("div",{className:"Switch"},r.a.createElement("label",{className:"Switch_Toggle"},r.a.createElement("input",{type:"checkbox",defaultChecked:o,onClick:function(){return a(!o)}}),r.a.createElement("span",{className:"Slider"})),"Show Task List")))};var m=a(606),d=a(35),u=a(45);function f(e,t,a,n,r,c,i){try{var s=e[c](i),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function v(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function i(e){f(c,n,r,i,s,"next",e)}function s(e){f(c,n,r,i,s,"throw",e)}i(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.a=function(e){var t=e.project_data,a=h(r.a.useState(s.a.Day),2),l=a[0],f=a[1],_=h(r.a.useState([]),2),p=_[0],g=_[1],E=h(r.a.useState(!1),2),N=E[0],y=E[1],b=h(Object(n.useState)([]),2),w=b[0],S=b[1],x=(Object(d.h)().id,h(Object(n.useState)(!0),2)),j=x[0],k=x[1],O=h(Object(n.useState)(),2),C=(O[0],O[1],60);l===s.a.Month?C=300:l===s.a.Week&&(C=250);new Date;var A=Object(c.a)().auth,T=Object(n.useRef)(!0);Object(n.useEffect)((function(){T.current=!1,void 0!==t?(S(t.ProjectTasks),k(!1)):Object(i.h)(function(){var e=v(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status?(S(t.data.results[0].ProjectTasks),k(!1)):(console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A,"")}),[]),Object(n.useEffect)((function(){if(!T.current){var e=[];w.map((function(t){e.push({start:new Date(t.start_date),end:new Date(t.end_date),name:t.title,id:String(t.id),progress:t.progress,dependencies:t.dependencies,type:"task",project:t.project_ref})})),g(e)}}),[w]);var D=function(e){var t=h(function(e,t){var a,n,r,c=function(e,t){return Math.abs(t-e)/1e3},i=(a=t,n=e.id,r={},a.forEach((function(e){e.id===n&&(r=e)})),r);return[c(e.start,i.start),c(e.end,i.end)]}(e,p),2),a=t[0],n=t[1],r=p.map((function(t){return t.id===e.id?e:t})),c=[];r=r.map((function(t){return null===t.dependencies?t:function(){var r=t,i=String(r.dependencies).split(","),s=!1;if(i.forEach((function(t){t===e.id&&(s=!0)})),s){var l=r;c.push(r.id);var o=function(e,t){var a={};return e.forEach((function(e){e.id===t&&(a=e)})),a}(p,e.id);e.start>o.start&&e.end>o.end?(l.start.setSeconds(l.start.getSeconds()+a),l.end.setSeconds(l.end.getSeconds()+n)):e.start<o.start&&e.end<o.end?(l.start.setSeconds(l.start.getSeconds()-a),l.end.setSeconds(l.end.getSeconds()-n)):e.start>o.start&&e.end===o.end?(l.start.setSeconds(l.start.getSeconds()+0),l.end.setSeconds(l.end.getSeconds()+0)):e.start===o.start&&e.end>o.end?(l.start.setSeconds(l.start.getSeconds()+n),l.end.setSeconds(l.end.getSeconds()+n)):e.start<o.start&&e.end===o.end?(l.start.setSeconds(l.start.getSeconds()+0),l.end.setSeconds(l.end.getSeconds()+0)):e.start===o.start&&e.end<o.end&&(l.start.setSeconds(l.start.getSeconds()-n),l.end.setSeconds(l.end.getSeconds()-n)),r=l}return r}()})),setTimeout((function(){c.forEach((function(t){(function e(t,a,n){var r=n;a.map((function(n){var c=function(){var c=v(regeneratorRuntime.mark((function c(){var i,s,l,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=n,s=String(i.dependencies).split(","),l=!1,s.forEach((function(e){e===t&&(l=!0)})),!l){c.next=10;break}return o=i,r.push(i.id),c.next=9,e(i.id,a,r);case 9:i=o;case 10:return c.abrupt("return",i);case 11:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return null===n.dependencies?n:c()}));return r})(t,r,[]).forEach((function(t){r=r.map((function(r){var c,i;return r.id===t?(c=r,i=function(e,t){var a={};return e.forEach((function(e){e.id===t&&(a=e)})),a}(p,e.id),e.start>i.start&&e.end>i.end?(c.start.setSeconds(c.start.getSeconds()+a),c.end.setSeconds(c.end.getSeconds()+n)):e.start<i.start&&e.end<i.end?(c.start.setSeconds(c.start.getSeconds()-a),c.end.setSeconds(c.end.getSeconds()-n)):e.start>i.start&&e.end===i.end?(c.start.setSeconds(c.start.getSeconds()+0),c.end.setSeconds(c.end.getSeconds()+0)):e.start===i.start&&e.end>i.end?(c.start.setSeconds(c.start.getSeconds()+n),c.end.setSeconds(c.end.getSeconds()+n)):e.start<i.start&&e.end===i.end?(c.start.setSeconds(c.start.getSeconds()+0),c.end.setSeconds(c.end.getSeconds()+0)):e.start===i.start&&e.end<i.end&&(c.start.setSeconds(c.start.getSeconds()-n),c.end.setSeconds(c.end.getSeconds()-n)),c):r})),g(r)}))}))}),200),g(r)};return j?r.a.createElement("div",{className:"spinner_fullscreen_div"},r.a.createElement(u.a,null)):r.a.createElement("div",{className:"gantt-main-container"},r.a.createElement(o,{onViewModeChange:function(e){return f(e)},onViewListChange:y,isChecked:N,project_data:t}),r.a.createElement(m.a,{tasks:p,viewMode:l,onDateChange:function(e){D(e)},listCellWidth:N?"155px":"",columnWidth:C}))}},408:function(e,t,a){"use strict";var n=a(8),r=a.n(n)()((function(e){return e[1]}));r.push([e.i,"",""]),t.a=r},421:function(e,t,a){"use strict";var n=a(8),r=a.n(n)()((function(e){return e[1]}));r.push([e.i,".filter_icon {\r\n    height: 100%;\r\n    object-fit: contain;\r\n}\r\n\r\n.MAINsomwethin {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 90%;\r\n    padding: 1vh 2vw;\r\n}\r\n\r\n.task_details {\r\n    /* display: flex; */\r\n    justify-content: space-between;\r\n}\r\n\r\n.text_data {\r\n    margin: 1vh 0;\r\n    font-size: var(--TS6);\r\n    font-weight: 600;\r\n    display: flex;\r\n}\r\n\r\n.data_wrap {\r\n    display: flex;\r\n}\r\n\r\n.chat_log {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.chat_container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n}\r\n\r\n.chatbox {\r\n    margin: 0;\r\n    width: 100%;\r\n    height: 100vh;\r\n    background: var(--color_12);\r\n    border-radius: 4px;\r\n    display: flex;\r\n    flex-direction: column-reverse;\r\n    font-size: var(--TS6);\r\n    font-weight: 600;\r\n    text-align-last: start;\r\n    overflow-y: scroll;\r\n}\r\n\r\n.chatlog_box {\r\n    width: 50vh;\r\n    height: 100%;\r\n    background: var(--color_12);\r\n}\r\n\r\n.column {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.bottom_container {\r\n    height: 8vh;\r\n    /* background: var(--color_14); */\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    border-radius: 4px;\r\n    border-color: transparent;\r\n}\r\n\r\n.message_box {\r\n    padding: 0.5vh;\r\n    /* background-color: var(--color_5); */\r\n    border-radius: 4px;\r\n    border-color: transparent;\r\n    height: 5vh;\r\n    font-size: var(--TS5);\r\n    text-align: center;\r\n    font-weight: 600;\r\n    /* color: var(--color_2); */\r\n    width: 70%;\r\n    box-sizing: border-box;\r\n    justify-self: center;\r\n    align-self: center;\r\n    text-align-last: start;\r\n}\r\n\r\n.icon_container {\r\n    /* background-color: var(--color_12); */\r\n    border-radius: 4vh;\r\n    border-color: transparent;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 1vh 1vw;\r\n    margin: 2vh 0;\r\n    width: 1vw;\r\n    height: 5vh;\r\n    justify-content: center;\r\n    align-self: center;\r\n}\r\n\r\n.iconimg {\r\n    height: 5vh;\r\n}\r\n\r\n.message {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 15vw;\r\n    padding: 0.6vh;\r\n    margin: 0 2vh;\r\n    border-radius: 4px;\r\n    border-color: transparent;\r\n    box-sizing: border-box;\r\n    font-size: var(--TS6);\r\n    font-weight: 600;\r\n    color: var(--color_2);\r\n    text-align: center;\r\n    position: relative;\r\n}\r\n\r\n.mymessage {\r\n    background-color: var(--color_23);\r\n}\r\n\r\n.chat_mymessage_container {\r\n    align-self: flex-end;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.chat_recievedmessage_container {\r\n    align-self: flex-start;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.recievedmessage {\r\n    background-color: var(--color_5);\r\n}\r\n\r\n.chat_user_name {\r\n    font-size: var(--TS7);\r\n    font-weight: 600;\r\n    margin: 0 1vh;\r\n}\r\n\r\n.chat_text_message {\r\n    font-size: var(--TS6);\r\n    font-weight: 400;\r\n    margin: 0 1vh;\r\n}\r\n\r\n.chat_mymessage_time {\r\n    font-size: var(--TS9);\r\n    font-weight: 600;\r\n    margin: 1vh 3vh;\r\n    align-self: flex-end;\r\n}\r\n\r\n.chat_recievedmessage_time {\r\n    font-size: var(--TS9);\r\n    font-weight: 600;\r\n    margin: 1vh 3vh;\r\n    align-self: flex-start;\r\n}\r\n\r\n.chat_time {\r\n    font-size: var(--TS9);\r\n    font-weight: 600;\r\n    margin: 1vh 3vh;\r\n    align-self: flex-start;\r\n}\r\n\r\n.activity_selectedimage {\r\n    width: 100%;\r\n    padding: 1vh 0;\r\n    z-index: 0;\r\n}\r\n\r\n.attachments_container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-evenly;\r\n    position: absolute;\r\n    bottom: calc(2vw + 6vh + 2vmin);\r\n    padding: calc(0.15vw + 0.45vh + 0.15vmin);\r\n    border-radius: 4px;\r\n    left: calc(10vw - 0vh - 3vmin);\r\n    width: 6vh;\r\n    height: 25vh;\r\n}\r\n\r\n/* doc file upload */\r\n\r\n.chat_doc_upload {\r\n    display: flex;\r\n    width: 100%;\r\n    height: 7vh;\r\n    border-radius: 4px;\r\n    border-color: transparent;\r\n    box-sizing: border-box;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin: 0.5vh 0;\r\n}\r\n\r\n.chat_doc_container {\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n}\r\n\r\n.chat_file_name {\r\n    align-self: center;\r\n}\r\n\r\n.chat_doc_icon {\r\n    height: 3.5vh;\r\n    padding: 1vh;\r\n}\r\n\r\n.chat_download_icon {\r\n    height: 5vh;\r\n}\r\n\r\n.chat_select_image {\r\n    display: flex;\r\n    position: absolute;\r\n    width: 100%;\r\n    background-color: var(--color_21);\r\n    z-index: 100;\r\n    padding: 5vh 0;\r\n    margin: 3vh 0;\r\n    height: 12vh;\r\n    opacity: 0.2;\r\n}\r\n\r\n.chat_image_download {\r\n    height: 4vh;\r\n    position: absolute;\r\n    z-index: 500;\r\n    margin: 12vh;\r\n    width: 10vw;\r\n}\r\n\r\n.iqGwYi {\r\n    width: 100% !important;\r\n    /* position: absolute !important; */\r\n    display: flex !important;\r\n    top: 31vh !important;\r\n}\r\n\r\n.dDQiSh {\r\n    position: unset !important;\r\n    top: 0 !important;\r\n    left: 0 !important;\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n}\r\n\r\n.eaYxIY {\r\n    width: 60% !important;\r\n    height: 100% !important;\r\n    object-fit: cover !important;\r\n    z-index: 0 !important;\r\n    -webkit-transform: rotateY( 180deg) !important;\r\n}\r\n\r\n.camera_img_preview {\r\n    width: 30vw;\r\n    height: 30vh;\r\n}\r\n\r\n.chat_main_container {\r\n    display: flex;\r\n    width: 100%;\r\n}\r\n\r\n.chatlog_list {\r\n    height: 5vh;\r\n    padding: 2vh;\r\n    display: flex;\r\n    background-color: var(--color_8);\r\n    justify-content: space-between;\r\n    border-color: var(--color_15) !important;\r\n    border-style: solid;\r\n    border-width: 0;\r\n    border-bottom-width: 1px;\r\n}\r\n\r\n.chat_user_wrap {\r\n    display: flex;\r\n}\r\n\r\n.chat_user_preview {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.chat_message_preview {\r\n    padding-left: 2vh;\r\n}\r\n\r\n.search_icon {\r\n    height: 2vh;\r\n    padding: 1vh;\r\n    object-fit: contain;\r\n}\r\n\r\n.chat_inputfield {\r\n    display: flex;\r\n}\r\n\r\n.chat_inputfield {\r\n    display: flex;\r\n}",""]),t.a=r},614:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(7),i=a.n(c),s=a(408),l={insert:"head",singleton:!1},o=(i()(s.a,l),s.a.locals,a(35)),m=(a(38),a(45)),d=a(16),u=a(628),f=a(56),v=a(17),h=a(46),_=a(47),p=a(60),g=a(18),E=a(66),N=a(67),y=a(629),b=a(3),w=a(75);function S(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw r}}return c}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.a=function(e){var t=Object(y.a)(),a=t.bugLog,c=t.loadbugLogDetail,i=Object(v.a)().auth,s=Object(o.f)(),l=Object(g.a)(),j=l.Colour,k=l.colourObj,O=(l.setcolourObj,l.setColour,l.loadColour),C=Object(w.a)(),A=C.taskField,T=(C.settaskField,C.loadTaskDetail,C.loadTaskDetail_byvalues,C.loadTaskDetail_withcallback),D=(C.edittask,x(Object(n.useState)([]),2)),z=D[0],I=D[1],J=x(Object(n.useState)([]),2),P=J[0],F=(J[1],x(Object(n.useState)([]),2)),R=(F[0],F[1],x(Object(n.useState)(""),2)),Y=(R[0],R[1],x(Object(n.useState)(!1),2)),M=Y[0],L=Y[1],B=x(Object(n.useState)(!1),2),U=(B[0],B[1]),Z=x(Object(n.useState)(!1),2),W=(Z[0],Z[1],x(Object(n.useState)(""),2)),V=(W[0],W[1]),q=x(Object(n.useState)(!1),2),H=q[0],Q=(q[1],x(Object(n.useState)(!0),2)),$=Q[0],G=Q[1],K=x(Object(n.useState)(!1),2),X=K[0],ee=K[1],te=x(Object(n.useState)(""),2),ae=te[0],ne=te[1],re=x(Object(n.useState)([]),2),ce=re[0],ie=re[1];Object(n.useEffect)((function(){p.a.pageview(window.location.pathname+window.location.search),e.setheader_options(se),G(!0),j||O(),a||c(),A||T((function(e){ie(e.map((function(e){return{key:e.id,value:e.project_ref}})).reduce((function(e,t){return function(e,t){var a=!1;return e.map((function(e){e.value===t.value&&(a=!0)})),a}(e,t)?e:[].concat(S(e),[t])}),[]))})),Object(d.a)({path:"tasks/maintask/?task_type=bug&user=",method:"get",auth:i||!1},(function(e,t){200===e.status?(G(!1),I(e.data.results),ee(!1)):(G(!1),ee(!0),console.log("error "+JSON.stringify(e)),console.log("error "+JSON.stringify(t)))}))}),[]);var se=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"screen_header_element",onClick:function(){L(!0)}},r.a.createElement("img",{className:"header_icon",src:f}),r.a.createElement("div",null,"Add Bug")))},le=function(e){switch(e){case"Low":return"textcolor_yellow";case"Normal":return"textcolor_blue";case"High":return"textcolor_orange";case"Urgent":return"textcolor_red";case"Emergency":return"textcolor_red textcolor_blinking";default:return""}},oe=function(){return P.map((function(e,t){return r.a.createElement("div",null," Project:",r.a.createElement("span",null,e.title))}))};return r.a.createElement("div",{className:"main"},M&&r.a.createElement(u.a,{setPopup:function(){L(!1)}}),r.a.createElement("div",{className:"body"},X?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"error-log-wrap"},r.a.createElement("div",{className:"error-log",style:{color:k.color_3}},"Unable to fetch"))):r.a.createElement(r.a.Fragment,null,$?r.a.createElement("div",{className:"spinner_fullscreen_div"},r.a.createElement(m.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main_selector_div"},r.a.createElement("div",{className:"inputfield_sub_container"},r.a.createElement(b.a,{type:"picker",name:"Project",id:"task_project_data",value:null==ae?void 0:ae.value,onChange:function(e){ne(e)},options:ce}))),r.a.createElement("div",{className:"bidlog_filterfield_container"},r.a.createElement("button",{onClick:function(){}},"Filter"," "),H?r.a.createElement("button",{onClick:function(){window.location.reload()}},"X"):null),r.a.createElement(h.a,{card_title:oe,card_body:r.a.createElement("div",{className:"internal_table",style:{color:k.color_1}},r.a.createElement("table",{id:"internal_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,["Project","Bug Title","Task Type","priority","domain","description","Date Reported","Protrait","Landscape","Android","IOS","Browser","image_link"].map((function(e,t){return r.a.createElement("th",{key:t},r.a.createElement("div",{className:"title_wrapper"},e.toUpperCase(),r.a.createElement("div",{className:"orderby_arrow"},r.a.createElement(E.a,{onexpand:function(){}}))))})))),r.a.createElement("tbody",null,z.map((function(e){return r.a.createElement("tr",{key:e.id,className:le(e.priority),onClick:function(){s.replace({pathname:"/Chat/".concat(Object(N.a)("bug",e.id)),state:e})}},r.a.createElement("td",null,e.project_ref),r.a.createElement("td",{onClick:function(){U(!0),V(e.id)}},e.title),r.a.createElement("td",null,e.task_type),r.a.createElement("td",null,e.priority),r.a.createElement("td",null,e.domain),r.a.createElement("td",null,e.description),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."))})))))}),r.a.createElement(h.a,{card_title:oe,card_body:r.a.createElement("div",{className:"internal_table",style:{color:k.color_1}},r.a.createElement("table",{id:"internal_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,["Project","Title","Task Type","priority","domain","Description","Api Name","Api Method","Path"].map((function(e,t){return r.a.createElement("th",{key:t},r.a.createElement("div",{className:"title_wrapper"},e.toUpperCase(),r.a.createElement("div",{className:"orderby_arrow"},r.a.createElement(E.a,{onexpand:function(){}}))))})))),r.a.createElement("tbody",null,a&&a.map((function(e){return r.a.createElement("tr",{key:e.id,className:le(e.priority),onClick:function(){s.replace({pathname:"/Chat",state:e})}},r.a.createElement("td",null,e.project_ref),r.a.createElement("td",{onClick:function(){U(!0),V(e.id)}},e.title),r.a.createElement("td",null,e.task_type),r.a.createElement("td",null,e.priority),r.a.createElement("td",null,e.domain),r.a.createElement("td",null,e.description),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."))})))))})))),r.a.createElement(_.a,null))}},622:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(7),i=a.n(c),s=a(421),l={insert:"head",singleton:!1},o=(i()(s.a,l),s.a.locals,a(35)),m=a(593),d=(a(38),a(422)),u=a(597),f=a(294),v=a(598),h=a(599),_=a(222),p=a(18),g=a(97),E=a(600),N=a(45),y=a(17),b=a(47),w=a(16),S=a(3),x=a(61);function j(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t,a,n,r,c,i){try{var s=e[c](i),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function O(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function i(e){k(c,n,r,i,s,"next",e)}function s(e){k(c,n,r,i,s,"throw",e)}i(void 0)}))}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,r,c=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(c.push(n.value),!t||c.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw r}}return c}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return T(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var D=function e(t){if(!(!1 in window))if(console.log(Notification.permission),"default"===Notification.permission)Notification.requestPermission((function(){e(t)}));else if("granted"===Notification.permission){var a=new Notification("New message",t.notification);a.onclick=function(){this.close()},a.onclose=function(){console.log("Notification closed")}}else if("denied"===Notification.permission)return};t.a=function(){var e=Object(y.a)().auth,t=C(Object(n.useState)([]),2),a=t[0],c=t[1],i=Object(o.h)().id,s=Object(x.a)(),l=s.self,k=s.userDetail,A=s.loaduserDetail,T=Object(n.useRef)(!0),z=Object(n.useRef)(null),I=C(Object(n.useState)(),2),J=I[0],P=I[1],F=C(Object(n.useState)(!1),2),R=F[0],Y=F[1],M=C(Object(n.useState)(!1),2),L=M[0],B=M[1],U=Object(p.a)(),Z=U.Colour,W=U.colourObj,V=(U.setcolourObj,U.setColour,U.loadColour),q=C(Object(n.useState)(!0),2),H=q[0],Q=q[1],$=C(Object(n.useState)(""),2),G=$[0],K=$[1],X=C(Object(n.useState)(!1),2),ee=(X[0],X[1],C(Object(n.useState)(""),2)),te=(ee[0],ee[1]),ae=C(Object(n.useState)(""),2),ne=(ae[0],ae[1]),re=C(Object(n.useState)(""),2),ce=re[0],ie=re[1],se=C(Object(n.useState)("NORMAL"),2),le=(se[0],se[1]),oe=C(Object(n.useState)(""),2),me=(oe[0],oe[1]),de=C(Object(n.useState)(!1),2),ue=de[0],fe=de[1],ve=C(Object(n.useState)(!1),2),he=ve[0],_e=(ve[1],C(Object(n.useState)(null),2)),pe=_e[0],ge=_e[1],Ee=C(Object(n.useState)(""),2),Ne=Ee[0],ye=Ee[1],be=C(Object(n.useState)(""),2),we=(be[0],be[1]),Se=C(Object(n.useState)(""),2),xe=Se[0],je=Se[1],ke=C(Object(n.useState)(""),2),Oe=(ke[0],ke[1]),Ce=Object(o.g)(),Ae=C(Object(n.useState)(new WebSocket("wss://apimccbdechat.mediacannibal.co/ws/chat/".concat(i,"/"))),1)[0];Object(n.useEffect)((function(){var t=JSON.parse(String(localStorage.getItem("UserDetails")));if(null!==t){var a=t.user_id,n=t.firstname,r=t.secondname,s=t.photo_url;Q(!1),we(t),me(a),le(t.user_type),te(n),ne(r),ie(null==s?g:s)}Ae.onmessage=function(){var e=O(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(t.data),n=a.message,e.next=4,Te(n);case 4:String(JSON.parse(a.message).user_id)!==String(l.user_id)&&D(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z||V(),k||A(),ge(Ce.state?Ce.state:null),function(e,t){Object(w.a)({path:"chat/list/?chat_id=".concat(t),method:"get",auth:e||!1},function(){var e=O(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status?(n=t.data.results,r=n.sort((function(e,t){return new Date(t.time)-new Date(e.time)})),c(r)):(console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}(e,i)}),[]);var Te=function(e){c((function(t){return[JSON.parse(e)].concat(j(t))}))},De=function(){var e=Ne,t=xe,a=new Date,n=JSON.stringify({message:JSON.stringify({user_id:l.user_id,name:l.firstname+l.lastname,time:String(a.toLocaleString()),message_type:"text",content:e,photo:t,chat_id:i})});Ae.send(n),ye("")},ze=function(e){var t=String(e).split("/");return t[t.length-1]},Ie=function(e,t){var a=new Date,n=JSON.stringify({message:JSON.stringify({user_id:user_id,name:k.firstname+k.lastname,time:String(a.toLocaleString()),message_type:e,content:t,chat_id:i})});Ae.send(n),ye("")},Je=function(){T.current.click()},Pe=function(){var e=O(regeneratorRuntime.mark((function e(t,a,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status?(Oe(t.data.result.file_url),r="image","image/png"!==n.type&&(r="docs"),Ie(r,t.data.result.file_url)):(console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"body"},H?r.a.createElement("div",{className:"spinner_fullscreen_div"},r.a.createElement(N.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chat_main_container"},r.a.createElement("div",{className:"chat_log"},r.a.createElement("div",{className:"chatlog_box"},r.a.createElement("div",{className:"inputfield_sub_container"},r.a.createElement(S.a,{label:"Search or start new chat",id:"chat_title_data",name:"data.Title",input_inner_leftprop:r.a.createElement("img",{className:"search_icon",src:E}),inputtype:"Text",required:!1,type:"text",value:G,onChange:K})),r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:l.photo_url}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:W.color_1}},l.firstname," ",l.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40")),r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:ce}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:W.color_1}},k.firstname," ",k.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40")),r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:ce}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:W.color_1}},k.firstname," ",k.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40")),r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:ce}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:W.color_1}},k.firstname," ",k.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40")),r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:ce}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:W.color_1}},k.firstname," ",k.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40")),r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:ce}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:W.color_1}},k.firstname," ",k.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40")),r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:ce}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:W.color_1}},k.firstname," ",k.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40")),r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:ce}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:W.color_1}},k.firstname," ",k.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40")),r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:ce}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:W.color_1}},k.firstname," ",k.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40")),r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:ce}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:W.color_1}},k.firstname," ",k.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40")))),r.a.createElement("div",{className:"chat_container"},r.a.createElement("div",{className:"chatbox"},a&&a.map((function(e,t){var a="https://"+e.content,n=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/.test(a);return l&&String(l.user_id)===String(e.user_id)?r.a.createElement("div",{className:"chat_mymessage_container"},r.a.createElement("div",{className:"message mymessage"},r.a.createElement("div",{className:"chat_user_name"},e.name),"text"===e.message_type?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chat_text_message"},!0===n?r.a.createElement("a",{target:"_blank",href:"https://"+e.content},e.content):e.content)):r.a.createElement(r.a.Fragment,null,"image"===e.message_type?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"activity_selectedimage",src:e.content}),r.a.createElement("img",{className:"activity_selectedimage",src:e.photo}),r.a.createElement("div",{className:"chat_doc_container"},r.a.createElement("div",{className:"chat_file_name"},ze(e.content)),r.a.createElement("img",{className:"chat_doc_icon",src:_,onClick:function(){window.open(e.content)}}))):r.a.createElement("div",{className:"chat_doc_upload recievedmessage"},r.a.createElement("div",{className:"chat_doc_container"},r.a.createElement("img",{className:"chat_doc_icon",src:f}),r.a.createElement("div",{className:"chat_file_name"},ze(e.content))),r.a.createElement("img",{className:"chat_doc_icon",src:_,onClick:function(){window.open(e.content)}})))),r.a.createElement("div",{className:"chat_mymessage_time"},e.time)):r.a.createElement("div",{className:"chat_recievedmessage_container"},r.a.createElement("div",{className:"message recievedmessage"},r.a.createElement("div",{className:"chat_user_name"},e.name),"text"===e.message_type?r.a.createElement("div",{className:"chat_text_message"},e.content):r.a.createElement(r.a.Fragment,null,"image"===e.message_type?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"activity_selectedimage",src:e.content}),r.a.createElement("div",{className:"chat_doc_container"},r.a.createElement("div",{className:"chat_file_name"},ze(e.content)),r.a.createElement("img",{className:"chat_doc_icon",src:_,onClick:function(){window.open(e.content)}}))):r.a.createElement("div",{className:"chat_doc_upload"},r.a.createElement("div",{className:"chat_doc_container"},r.a.createElement("img",{className:"chat_doc_icon",src:f}),r.a.createElement("div",{className:"chat_file_name"},ze(e.content))),r.a.createElement("img",{className:"chat_doc_icon",src:_,onClick:function(){window.open(e.content)}})))),r.a.createElement("div",{className:"chat_recievedmessage_time"},e.time))}))),r.a.createElement("div",{className:"bottom_container",style:{background:W.color_14}},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"icon_container",onClick:function(){fe(!ue)}},r.a.createElement("img",{className:"iconimg",src:u}),r.a.createElement("input",{id:"myInput",type:"file",onChange:function(t){return a=t,n=new FormData,r=a.target.files[0],n.append("file",r),void Object(w.e)(Pe,e,n,a.target.files[0]);var a,n,r},ref:T}))),r.a.createElement("input",{className:"message_box",style:{color:W.color_2,backgroundColor:W.color_5},placeholder:"Type a message",type:"text",onChange:function(e){ye(e.target.value)},value:Ne,onKeyPress:function(e){"Enter"===e.key&&De()}}),he?r.a.createElement("div",{className:"icon_container",style:{backgroundColor:W.color_12},onClick:function(e){var t,a,n,r;t=Ne,a=xe,n=new Date,r=JSON.stringify({message:JSON.stringify({user_id:l.user_id,name:l.firstname+l.lastname,time:String(n.toLocaleString()),message_type:"image",content:t,photo:a,chat_id:i})}),Ae.send(r),ye(""),B(!1)}},r.a.createElement("img",{className:"iconimg",src:d})):r.a.createElement("div",{className:"icon_container",style:{backgroundColor:W.color_12},onClick:function(e){De()}},r.a.createElement("img",{className:"iconimg",src:d}))),ue&&r.a.createElement("div",{className:"attachments_container"},r.a.createElement("img",{className:"iconimg",src:h,onClick:function(){Y(!R)}}),r.a.createElement("img",{className:"iconimg",src:f,onClick:function(){Je()}}),r.a.createElement("img",{className:"iconimg",src:v,onClick:function(){Je()}})),R&&r.a.createElement("div",null,r.a.createElement(m.a,{ref:z}),r.a.createElement("button",{onClick:function(e){P(z.current.takePhoto()),je(z.current.takePhoto()),Y(!1),B(!0)}},"Take photo")),L&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"camera_img_preview",src:J,alt:"Taken photo",onClick:function(){}})),r.a.createElement("div",null)),r.a.createElement("div",{className:"task_details"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Company ID: "),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.company_ref))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Branch ID: "),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.branch_ref))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Task ID: "),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.id))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Project ID:"),r.a.createElement("div",{className:"text_data"}," "," "+(null==pe?void 0:pe.project_ref_id))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Title: "),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.title))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Domain:"),r.a.createElement("div",{className:"text_data"}," "," "+(null==pe?void 0:pe.domain)," ")),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Priority:"),r.a.createElement("div",{className:"text_data"}," "," "+(null==pe?void 0:pe.priority)," ")),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Task Type:"),r.a.createElement("div",{className:"text_data"}," "," "+(null==pe?void 0:pe.task_type))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Progress:"),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.progress))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Time Spent:"),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.time_spent))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Start-Date:"),r.a.createElement("div",{className:"text_data"}," "," "+(null==pe?void 0:pe.start_date))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"End-Date:"),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.end_date))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Updated At:"),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.updated_at)))))))),r.a.createElement(b.a,null))}}}]);