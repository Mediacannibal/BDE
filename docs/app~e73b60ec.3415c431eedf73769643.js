(this.webpackJsonp=this.webpackJsonp||[]).push([[34],{323:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(21),o=n(20),i=n(44);function l(e,t,n,a,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(a,r)}var s=function(e){var t=e.onViewModeChange,n=e.onViewListChange,s=e.isChecked,m=e.project_data,d=Object(c.a)().auth;Object(a.useEffect)((function(){void 0===m&&u()}),[]);var u=function(){Object(o.g)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status||(console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(n)));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function o(e){l(c,a,r,o,i,"next",e)}function i(e){l(c,a,r,o,i,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),d)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"ViewContainer"},r.a.createElement("button",{className:"Button",onClick:function(){return t(i.a.QuarterDay)}},"Quarter of Day"),r.a.createElement("button",{className:"Button",onClick:function(){return t(i.a.HalfDay)}},"Half of Day"),r.a.createElement("button",{className:"Button",onClick:function(){return t(i.a.Day)}},"Day"),r.a.createElement("button",{className:"Button",onClick:function(){return t(i.a.Week)}},"Week"),r.a.createElement("button",{className:"Button",onClick:function(){return t(i.a.Month)}},"Month"),r.a.createElement("div",{className:"Switch"},r.a.createElement("label",{className:"Switch_Toggle"},r.a.createElement("input",{type:"checkbox",defaultChecked:s,onClick:function(){return n(!s)}}),r.a.createElement("span",{className:"Slider"})),"Show Task List")))};var m=n(686),d=n(42),u=n(49);function f(e,t,n,a,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function o(e){f(c,a,r,o,i,"next",e)}function i(e){f(c,a,r,o,i,"throw",e)}o(void 0)}))}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.a=function(e){var t=e.project_data,n=h(r.a.useState(i.a.Day),2),l=n[0],f=n[1],g=h(r.a.useState([]),2),v=g[0],_=g[1],E=h(r.a.useState(!1),2),y=E[0],b=E[1],w=h(Object(a.useState)([]),2),S=w[0],N=w[1],x=(Object(d.h)().id,h(Object(a.useState)(!0),2)),j=x[0],k=x[1],O=h(Object(a.useState)(),2),C=(O[0],O[1],60);l===i.a.Month?C=300:l===i.a.Week&&(C=250);new Date;var A=Object(c.a)().auth,T=Object(a.useRef)(!0);Object(a.useEffect)((function(){T.current=!1,void 0!==t?(N(t.ProjectTasks),k(!1)):Object(o.h)(function(){var e=p(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status?(N(t.data.results[0].ProjectTasks),k(!1)):(console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A,"")}),[]),Object(a.useEffect)((function(){if(!T.current){var e=[];S.map((function(t){e.push({start:new Date(t.start_date),end:new Date(t.end_date),name:t.title,id:String(t.id),progress:t.progress,dependencies:t.dependencies,type:"task",project:t.project_ref})})),_(e)}}),[S]);var D=function(e){var t=h(function(e,t){var n,a,r,c=function(e,t){return Math.abs(t-e)/1e3},o=(n=t,a=e.id,r={},n.forEach((function(e){e.id===a&&(r=e)})),r);return[c(e.start,o.start),c(e.end,o.end)]}(e,v),2),n=t[0],a=t[1],r=v.map((function(t){return t.id===e.id?e:t})),c=[];r=r.map((function(t){return null===t.dependencies?t:function(){var r=t,o=String(r.dependencies).split(","),i=!1;if(o.forEach((function(t){t===e.id&&(i=!0)})),i){var l=r;c.push(r.id);var s=function(e,t){var n={};return e.forEach((function(e){e.id===t&&(n=e)})),n}(v,e.id);e.start>s.start&&e.end>s.end?(l.start.setSeconds(l.start.getSeconds()+n),l.end.setSeconds(l.end.getSeconds()+a)):e.start<s.start&&e.end<s.end?(l.start.setSeconds(l.start.getSeconds()-n),l.end.setSeconds(l.end.getSeconds()-a)):e.start>s.start&&e.end===s.end?(l.start.setSeconds(l.start.getSeconds()+0),l.end.setSeconds(l.end.getSeconds()+0)):e.start===s.start&&e.end>s.end?(l.start.setSeconds(l.start.getSeconds()+a),l.end.setSeconds(l.end.getSeconds()+a)):e.start<s.start&&e.end===s.end?(l.start.setSeconds(l.start.getSeconds()+0),l.end.setSeconds(l.end.getSeconds()+0)):e.start===s.start&&e.end<s.end&&(l.start.setSeconds(l.start.getSeconds()-a),l.end.setSeconds(l.end.getSeconds()-a)),r=l}return r}()})),setTimeout((function(){c.forEach((function(t){(function e(t,n,a){var r=a;n.map((function(a){var c=function(){var c=p(regeneratorRuntime.mark((function c(){var o,i,l,s;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(o=a,i=String(o.dependencies).split(","),l=!1,i.forEach((function(e){e===t&&(l=!0)})),!l){c.next=10;break}return s=o,r.push(o.id),c.next=9,e(o.id,n,r);case 9:o=s;case 10:return c.abrupt("return",o);case 11:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return null===a.dependencies?a:c()}));return r})(t,r,[]).forEach((function(t){r=r.map((function(r){var c,o;return r.id===t?(c=r,o=function(e,t){var n={};return e.forEach((function(e){e.id===t&&(n=e)})),n}(v,e.id),e.start>o.start&&e.end>o.end?(c.start.setSeconds(c.start.getSeconds()+n),c.end.setSeconds(c.end.getSeconds()+a)):e.start<o.start&&e.end<o.end?(c.start.setSeconds(c.start.getSeconds()-n),c.end.setSeconds(c.end.getSeconds()-a)):e.start>o.start&&e.end===o.end?(c.start.setSeconds(c.start.getSeconds()+0),c.end.setSeconds(c.end.getSeconds()+0)):e.start===o.start&&e.end>o.end?(c.start.setSeconds(c.start.getSeconds()+a),c.end.setSeconds(c.end.getSeconds()+a)):e.start<o.start&&e.end===o.end?(c.start.setSeconds(c.start.getSeconds()+0),c.end.setSeconds(c.end.getSeconds()+0)):e.start===o.start&&e.end<o.end&&(c.start.setSeconds(c.start.getSeconds()-a),c.end.setSeconds(c.end.getSeconds()-a)),c):r})),_(r)}))}))}),200),_(r)};return j?r.a.createElement("div",{className:"spinner_fullscreen_div"},r.a.createElement(u.a,null)):r.a.createElement("div",{className:"gantt-main-container"},r.a.createElement(s,{onViewModeChange:function(e){return f(e)},onViewListChange:b,isChecked:y,project_data:t}),r.a.createElement(m.a,{tasks:v,viewMode:l,onDateChange:function(e){D(e)},listCellWidth:y?"155px":"",columnWidth:C}))}},458:function(e,t,n){"use strict";var a=n(11),r=n.n(a)()((function(e){return e[1]}));r.push([e.i,"",""]),t.a=r},477:function(e,t,n){"use strict";var a=n(11),r=n.n(a)()((function(e){return e[1]}));r.push([e.i,".filter_icon {\r\n  height: 100%;\r\n  object-fit: contain;\r\n}\r\n\r\n.MAINsomwethin {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 90%;\r\n  padding: 1vh 2vw;\r\n}\r\n\r\n.task_details {\r\n  /* display: flex; */\r\n  justify-content: space-between;\r\n}\r\n\r\n.text_data {\r\n  margin: 1vh 0;\r\n  font-size: var(--TS6);\r\n  font-weight: 600;\r\n  display: flex;\r\n}\r\n\r\n.data_wrap {\r\n  display: flex;\r\n}\r\n\r\n.chat_log {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 35%;\r\n}\r\n\r\n.chat_container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n.chatbox {\r\n  margin: 0;\r\n  width: 100%;\r\n  height: 90vh;\r\n  background: var(--color_12);\r\n  border-radius: 4px;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  font-size: var(--TS6);\r\n  font-weight: 600;\r\n  text-align-last: start;\r\n  overflow-y: scroll;\r\n}\r\n\r\n.chatlog_box {\r\n  width: 50vh;\r\n  height: 100%;\r\n  background: var(--color_12);\r\n  overflow: scroll;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.bottom_container {\r\n  height: 8vh;\r\n  /* background: var(--color_14); */\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  border-radius: 4px;\r\n  border-color: transparent;\r\n}\r\n\r\n.message_box {\r\n  padding: 0.5vh;\r\n  /* background-color: var(--color_5); */\r\n  border-radius: 4px;\r\n  border-color: transparent;\r\n  height: 5vh;\r\n  font-size: var(--TS5);\r\n  text-align: center;\r\n  font-weight: 600;\r\n  /* color: var(--color_2); */\r\n  width: 70%;\r\n  box-sizing: border-box;\r\n  justify-self: center;\r\n  align-self: center;\r\n  text-align-last: start;\r\n  text-align: start;\r\n}\r\n\r\n.icon_container {\r\n  /* background-color: var(--color_12); */\r\n  position: relative;\r\n  border-radius: 4vh;\r\n  border-color: transparent;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 1vh 2vw;\r\n  margin: 1vh 0;\r\n  width: 1vw;\r\n  height: 4vh;\r\n  justify-content: center;\r\n  align-self: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.iconimg {\r\n  height: 5vh;\r\n}\r\n\r\n.message {\r\n  display: flex;\r\n  flex-direction: column;\r\n  /* width: 24vw; */\r\n  padding: 0.6vh;\r\n  margin: 0 2vh;\r\n  border-radius: 4px;\r\n  border-color: transparent;\r\n  box-sizing: border-box;\r\n  font-size: var(--TS6);\r\n  font-weight: 600;\r\n  color: var(--color_2);\r\n  text-align: center;\r\n}\r\n\r\n.mymessage {\r\n  background-color: var(--color_28);\r\n  color: var(--color_5);\r\n}\r\n\r\n.mymessage:last-child {\r\n  animation-duration: 3s;\r\n  animation-name: slidein;\r\n}\r\n\r\n.chat_mymessage_container {\r\n  align-self: flex-end;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.chat_recievedmessage_container {\r\n  align-self: flex-start;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.image-wrapper {\r\n  width: 30vh;\r\n}\r\n\r\n.recievedmessage {\r\n  background-color: var(--color_15);\r\n}\r\n\r\n.chat_user_name {\r\n  font-size: var(--TS6);\r\n  font-weight: 600;\r\n  margin: 0 1vh;\r\n}\r\n\r\n.chat_text_message {\r\n  font-size: var(--TS6);\r\n  font-weight: 400;\r\n  margin: 0 1vh;\r\n}\r\n\r\n.chat_mymessage_time {\r\n  font-size: var(--TS9);\r\n  font-weight: 600;\r\n  margin: 1vh 3vh;\r\n  align-self: flex-end;\r\n}\r\n\r\n.chat_recievedmessage_time {\r\n  font-size: var(--TS9);\r\n  font-weight: 600;\r\n  margin: 1vh 3vh;\r\n  align-self: flex-start;\r\n}\r\n\r\n.chat_time {\r\n  font-size: var(--TS9);\r\n  font-weight: 600;\r\n  margin: 1vh 3vh;\r\n  align-self: flex-start;\r\n}\r\n\r\n.activity_selectedimage {\r\n  width: 100%;\r\n  padding: 1vh 0;\r\n  z-index: 0;\r\n}\r\n\r\n.attachments_container {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n  align-items: flex-start;\r\n  padding: calc(0.15vw + 0.45vh + 0.15vmin);\r\n  transform: translateY(45vh);\r\n  z-index: 3;\r\n  /* animation-duration: 2s;\r\n  animation-name: slidein; */\r\n}\r\n\r\n@keyframes slidein {\r\n  from {\r\n    margin-left: 100%;\r\n    /* width: 300%; */\r\n  }\r\n\r\n  to {\r\n    margin-left: 0%;\r\n    /* width: 100%; */\r\n  }\r\n}\r\n\r\n/* camera test maverick */\r\n\r\n.camera_click {\r\n  background-color: #ffffff;\r\n  color: #000000;\r\n  z-index: 3;\r\n}\r\n\r\n/* doc file upload */\r\n\r\n.chat_doc_upload {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 7vh;\r\n  border-radius: 4px;\r\n  border-color: transparent;\r\n  box-sizing: border-box;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 0.5vh 0;\r\n}\r\n\r\n.chat_doc_container {\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n}\r\n\r\n.chat_file_name {\r\n  align-self: center;\r\n}\r\n\r\n.chat_doc_icon {\r\n  height: 3.5vh;\r\n  padding: 1vh;\r\n}\r\n\r\n.chat_download_icon {\r\n  height: 5vh;\r\n}\r\n\r\n.chat_select_image {\r\n  display: flex;\r\n  position: absolute;\r\n  width: 100%;\r\n  background-color: var(--color_21);\r\n  z-index: 100;\r\n  padding: 5vh 0;\r\n  margin: 3vh 0;\r\n  height: 12vh;\r\n  opacity: 0.2;\r\n}\r\n\r\n.chat_image_download {\r\n  height: 4vh;\r\n  position: absolute;\r\n  z-index: 500;\r\n  margin: 12vh;\r\n  width: 10vw;\r\n}\r\n\r\n.iqGwYi {\r\n  width: 100% !important;\r\n  /* position: absolute !important; */\r\n  display: flex !important;\r\n  top: 31vh !important;\r\n}\r\n\r\n.dDQiSh {\r\n  position: unset !important;\r\n  top: 0 !important;\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n}\r\n\r\n.eaYxIY {\r\n  width: 60% !important;\r\n  height: 100% !important;\r\n  object-fit: cover !important;\r\n  z-index: 0 !important;\r\n  -webkit-transform: rotateY(180deg) !important;\r\n}\r\n\r\n.camera_img_preview {\r\n  width: 30vw;\r\n  height: 30vh;\r\n}\r\n\r\n.chat_main_container {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 70% !important;\r\n}\r\n\r\n.chat-items-wrap {\r\n  display: flex;\r\n}\r\n\r\n.chatlog_list {\r\n  height: 5vh;\r\n  padding: 2vh;\r\n  display: flex;\r\n  background-color: var(--color_8);\r\n  justify-content: space-between;\r\n  border-color: var(--color_15) !important;\r\n  border-style: solid;\r\n  border-width: 0;\r\n  border-bottom-width: 1px;\r\n}\r\n\r\n.chat_user_wrap {\r\n  display: flex;\r\n}\r\n\r\n.chat_user_preview {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.chat_message_preview {\r\n  padding-left: 2vh;\r\n}\r\n\r\n.search_icon {\r\n  height: 2vh;\r\n  padding: 1vh;\r\n  object-fit: contain;\r\n}\r\n\r\n.chat_inputfield {\r\n  display: flex;\r\n}\r\n\r\n.chat_inputfield {\r\n  display: flex;\r\n}\r\n",""]),t.a=r},687:function(e,t,n){"use strict";n(715);var a=n(0),r=n.n(a),c=(n(993),n(39)),o=n(42),i=n(325),l=n(70),s=(n(40),n(632)),m=n(691),d=n(637),u=n(688),f=n(692),p=n(693),h=n(10),g=n.n(h),v=n(458),_={insert:"head",singleton:!1},E=(g()(v.a,_),v.a.locals,n(49)),y=n(20),b=n(708),w=n(68),S=n(21),N=n(23),x=n(55),j=n(22),k=n(76),O=n(77),C=n(709),A=n(5),T=n(84);function D(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return c}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var J=function(e){var t=Object(C.a)(),n=t.bugLog,c=t.loadbugLogDetail,i=Object(S.a)().auth,s=Object(o.f)(),m=Object(j.a)(),d=m.Colour,u=m.colourObj,f=(m.setcolourObj,m.setColour,m.loadColour),p=Object(T.a)(),h=p.taskField,g=(p.settaskField,p.loadTaskDetail,p.loadTaskDetail_byvalues,p.loadTaskDetail_withcallback),v=(p.edittask,I(Object(a.useState)([]),2)),_=v[0],P=v[1],z=I(Object(a.useState)([]),2),J=z[0],R=(z[1],I(Object(a.useState)([]),2)),F=(R[0],R[1],I(Object(a.useState)(""),2)),M=(F[0],F[1],I(Object(a.useState)(!1),2)),L=M[0],U=M[1],B=I(Object(a.useState)(!1),2),Z=(B[0],B[1]),W=I(Object(a.useState)(!1),2),Y=(W[0],W[1],I(Object(a.useState)(""),2)),V=(Y[0],Y[1]),q=I(Object(a.useState)(!1),2),H=q[0],$=(q[1],I(Object(a.useState)(!0),2)),Q=$[0],G=$[1],K=I(Object(a.useState)(!1),2),X=K[0],ee=K[1],te=I(Object(a.useState)(""),2),ne=te[0],ae=te[1],re=I(Object(a.useState)([]),2),ce=re[0],oe=re[1];Object(a.useEffect)((function(){l.a.pageview(window.location.pathname+window.location.search),e.setheader_options(ie),G(!0),d||f(),n||c(),h||g((function(e){oe(e.map((function(e){return{key:e.id,value:e.project_ref}})).reduce((function(e,t){return function(e,t){var n=!1;return e.map((function(e){e.value===t.value&&(n=!0)})),n}(e,t)?e:[].concat(D(e),[t])}),[]))})),Object(y.a)({path:"tasks/maintask/?task_type=bug&user=",method:"get",auth:i||!1},(function(e,t){200===e.status?(G(!1),P(e.data.results),ee(!1)):(G(!1),ee(!0),console.log("error "+JSON.stringify(e)),console.log("error "+JSON.stringify(t)))}))}),[]);var ie=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"screen_header_element",onClick:function(){U(!0)}},r.a.createElement("img",{className:"header_icon",src:w}),r.a.createElement("div",null,"Add Bug")))},le=function(e){switch(e){case"Low":return"textcolor_yellow";case"Normal":return"textcolor_blue";case"High":return"textcolor_orange";case"Urgent":return"textcolor_red";case"Emergency":return"textcolor_red textcolor_blinking";default:return""}},se=function(){return J.map((function(e,t){return r.a.createElement("div",null," Project:",r.a.createElement("span",null,e.title))}))};return r.a.createElement("div",{className:"main"},L&&r.a.createElement(b.a,{setPopup:function(){U(!1)}}),r.a.createElement("div",{className:"body"},X?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"error-log-wrap"},r.a.createElement("div",{className:"error-log",style:{color:u.color_3}},"Unable to fetch"))):r.a.createElement(r.a.Fragment,null,Q?r.a.createElement("div",{className:"spinner_fullscreen_div"},r.a.createElement(E.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main_selector_div"},r.a.createElement("div",{className:"inputfield_sub_container"},r.a.createElement(A.a,{type:"picker",name:"Project",id:"task_project_data",value:null==ne?void 0:ne.value,onChange:function(e){ae(e)},options:ce}))),r.a.createElement("div",{className:"bidlog_filterfield_container"},r.a.createElement("button",{onClick:function(){}},"Filter"," "),H?r.a.createElement("button",{onClick:function(){window.location.reload()}},"X"):null),r.a.createElement(N.a,{card_title:se,card_body:r.a.createElement("div",{className:"internal_table",style:{color:u.color_1}},r.a.createElement("table",{id:"internal_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,["Project","Bug Title","Task Type","priority","domain","description","Date Reported","Protrait","Landscape","Android","IOS","Browser","image_link"].map((function(e,t){return r.a.createElement("th",{key:t},r.a.createElement("div",{className:"title_wrapper"},e.toUpperCase(),r.a.createElement("div",{className:"orderby_arrow"},r.a.createElement(k.a,{onexpand:function(){}}))))})))),r.a.createElement("tbody",null,_.map((function(e){return r.a.createElement("tr",{key:e.id,className:le(e.priority),onClick:function(){s.replace({pathname:"/Chat/".concat(Object(O.a)("bug",e.id)),state:e})}},r.a.createElement("td",null,e.project_ref),r.a.createElement("td",{onClick:function(){Z(!0),V(e.id)}},e.title),r.a.createElement("td",null,e.task_type),r.a.createElement("td",null,e.priority),r.a.createElement("td",null,e.domain),r.a.createElement("td",null,e.description),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."))})))))}),r.a.createElement(N.a,{card_title:se,card_body:r.a.createElement("div",{className:"internal_table",style:{color:u.color_1}},r.a.createElement("table",{id:"internal_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,["Project","Title","Task Type","priority","domain","Description","Api Name","Api Method","Path"].map((function(e,t){return r.a.createElement("th",{key:t},r.a.createElement("div",{className:"title_wrapper"},e.toUpperCase(),r.a.createElement("div",{className:"orderby_arrow"},r.a.createElement(k.a,{onexpand:function(){}}))))})))),r.a.createElement("tbody",null,n&&n.map((function(e){return r.a.createElement("tr",{key:e.id,className:le(e.priority),onClick:function(){s.replace({pathname:"/Chat",state:e})}},r.a.createElement("td",null,e.project_ref),r.a.createElement("td",{onClick:function(){Z(!0),V(e.id)}},e.title),r.a.createElement("td",null,e.task_type),r.a.createElement("td",null,e.priority),r.a.createElement("td",null,e.domain),r.a.createElement("td",null,e.description),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."),r.a.createElement("td",null,"..."))})))))})))),r.a.createElement(x.a,null))},R=n(694),F=n(695),M=n(696),L=n(217),U=n(216),B=n(697),Z=n(698),W=n(699),Y=n(479),V=n(700),q=n(323),H=n(132),$=n(701),Q=n(702),G=n(477),K={insert:"head",singleton:!1},X=(g()(G.a,K),G.a.locals,n(677)),ee=n(478),te=n(678),ne=n(336),ae=n(679),re=n(680),ce=n(255),oe=n(106),ie=n(681),le=n(71);function se(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t,n,a,r,c,o){try{var i=e[c](o),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(a,r)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function o(e){me(c,a,r,o,i,"next",e)}function i(e){me(c,a,r,o,i,"throw",e)}o(void 0)}))}}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return c}(e,t)||fe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var he=function e(t){if(!(!1 in window))if(console.log(Notification.permission),"default"===Notification.permission)Notification.requestPermission((function(){e(t)}));else if("granted"===Notification.permission){var n=new Notification("New message",t.notification);n.onclick=function(){this.close()},n.onclose=function(){console.log("Notification closed")}}else if("denied"===Notification.permission)return},ge=function(){var e=Object(S.a)().auth,t=ue(Object(a.useState)([]),2),n=t[0],c=t[1],i=Object(o.h)().id,l=Object(le.a)(),s=l.self,m=l.userDetail,d=l.loaduserDetail,u=Object(a.useRef)(!0),f=Object(a.useRef)(null),p=ue(Object(a.useState)(),2),h=p[0],g=p[1],v=ue(Object(a.useState)(!1),2),_=v[0],b=v[1],w=ue(Object(a.useState)(!1),2),N=w[0],k=w[1],O=Object(j.a)(),C=O.Colour,T=O.colourObj,D=(O.setcolourObj,O.setColour,O.loadColour),I=ue(Object(a.useState)(!0),2),P=I[0],z=I[1],J=ue(Object(a.useState)(""),2),R=J[0],F=J[1],M=ue(Object(a.useState)(""),2),L=(M[0],M[1]),U=ue(Object(a.useState)(""),2),B=(U[0],U[1]),Z=ue(Object(a.useState)(""),2),W=(Z[0],Z[1]),Y=ue(Object(a.useState)("NORMAL"),2),V=(Y[0],Y[1]),q=ue(Object(a.useState)(""),2),H=(q[0],q[1]),$=ue(Object(a.useState)(!1),2),Q=$[0],G=$[1],K=ue(Object(a.useState)(!1),2),me=K[0],fe=(K[1],ue(Object(a.useState)(null),2)),pe=fe[0],ge=fe[1],ve=ue(Object(a.useState)(""),2),_e=ve[0],Ee=ve[1],ye=ue(Object(a.useState)(""),2),be=(ye[0],ye[1]),we=ue(Object(a.useState)(""),2),Se=we[0],Ne=we[1],xe=Object(o.g)(),je=ue(Object(a.useState)(new WebSocket("wss://apimccbdechat.mediacannibal.co/ws/chat/".concat(i,"/"))),1)[0];Object(a.useEffect)((function(){var t=JSON.parse(String(localStorage.getItem("UserDetails")));if(null!==t){var n=t.user_id,a=t.firstname,r=t.secondname,o=t.photo_url;z(!1),be(t),H(n),V(t.user_type),L(a),B(r),W(null==o?oe:o)}je.onmessage=function(){var e=de(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(t.data),a=n.message,e.next=4,ke(a);case 4:String(JSON.parse(n.message).user_id)!==String(s.user_id)&&he(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C||D(),m||d(),ge(xe.state?xe.state:null),function(e,t){Object(y.a)({path:"chat/list/?chat_id=".concat(t),method:"get",auth:e||!1},function(){var e=de(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status?(a=t.data.results,r=a.sort((function(e,t){return new Date(t.time)-new Date(e.time)})),c(r)):(console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}(e,i)}),[]);var ke=function(e){c((function(t){return[JSON.parse(e)].concat(se(t))}))},Oe=function(){var e=_e,t=Se,n=new Date,a=JSON.stringify({message:JSON.stringify({user_id:s.user_id,name:s.firstname+s.lastname,time:String(n.toLocaleString()),message_type:"text",content:e,photo:t,chat_id:i})});je.send(a),Ee("")},Ce=function(e,t){var n=Se,a=new Date,r=JSON.stringify({message:JSON.stringify({user_id:s.user_id,name:s.firstname+s.lastname,time:String(a.toLocaleString()),message_type:e,content:t,photo:n,chat_id:i})});console.log("message_type :::aaa",r),je.send(r),Ee("")},Ae=function(e,t){var n=new Date,a=JSON.stringify({message:JSON.stringify({user_id:s.user_id,name:s.firstname+s.lastname,time:String(n.toLocaleString()),message_type:e,content:t,chat_id:i})});je.send(a),Ee("")},Te=function(e){var t=String(e).split("/");return t[t.length-1]},De=function(){u.current.click()},Ie=function(){var e=de(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status?(console.log("respnsefile :",a),console.log("TESTTTT:::: :","image/png"!==a.type||"image/jpeg"),"image/jpeg"===a.type?("image",Ce("image",t.data.result.file_url)):("docs",Ae("docs",t.data.result.file_url))):(console.log("error "+JSON.stringify(t)),console.log("error "+JSON.stringify(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Pe=r.a.createElement("div",{className:"chatlog_list"},r.a.createElement("div",{className:"chat_user_wrap"},r.a.createElement("img",{className:"user_icon",src:s.photo_url}),r.a.createElement("div",{className:"chat_user_preview"},r.a.createElement("div",{className:"header_title",style:{color:T.color_1}},s.firstname," ",s.secondname),r.a.createElement("div",{className:"chat_message_preview"},"You: hii"))),r.a.createElement("div",{className:"chat_time"},"4:40"));return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"body"},P?r.a.createElement("div",{className:"spinner_fullscreen_div"},r.a.createElement(E.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chat_main_container"},r.a.createElement("div",{className:"task_details"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Company ID: "),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.company_ref))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Branch ID: "),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.branch_ref))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Task ID: "),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.id))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Project ID:"),r.a.createElement("div",{className:"text_data"}," "," "+(null==pe?void 0:pe.project_ref_id))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Title: "),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.title))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Domain:"),r.a.createElement("div",{className:"text_data"}," "," "+(null==pe?void 0:pe.domain)," ")),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Priority:"),r.a.createElement("div",{className:"text_data"}," "," "+(null==pe?void 0:pe.priority)," ")),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Task Type:"),r.a.createElement("div",{className:"text_data"}," "," "+(null==pe?void 0:pe.task_type))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Progress:"),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.progress))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Time Spent:"),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.time_spent))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Start-Date:"),r.a.createElement("div",{className:"text_data"}," "," "+(null==pe?void 0:pe.start_date))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"End-Date:"),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.end_date))),r.a.createElement("div",{className:"data_wrap"},r.a.createElement("div",{className:"card_title"},"Updated At:"),r.a.createElement("div",{className:"text_data"}," "+(null==pe?void 0:pe.updated_at))))),r.a.createElement("div",{className:"chat-items-wrap"},r.a.createElement("div",{className:"chat_log"},r.a.createElement("div",{className:"inputfield_sub_container"},r.a.createElement(A.a,{label:"Search or start new chat",id:"chat_title_data",name:"data.Title",input_inner_leftprop:r.a.createElement("img",{className:"search_icon",src:ie}),inputtype:"Text",required:!1,type:"text",value:R,onChange:F})),r.a.createElement("div",{className:"chatlog_box"},Pe,Pe,Pe,Pe,Pe,Pe,Pe,Pe,Pe,Pe,Pe,Pe,Pe,Pe,Pe)),r.a.createElement("div",{className:"chat_container"},r.a.createElement("div",{className:"chatbox",onClick:function(){G(!1)}},n&&n.map((function(e,t){var n="https://"+e.content,a=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/.test(n);return console.log("object object",e),s&&String(s.user_id)===String(e.user_id)?r.a.createElement("div",{className:"chat_mymessage_container"},r.a.createElement("div",{className:"message mymessage"},r.a.createElement("div",{className:"chat_user_name"},e.name),"text"===e.message_type?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chat_text_message"},!0===a?r.a.createElement("a",{target:"_blank",href:"https://"+e.content},e.content):e.content)):r.a.createElement(r.a.Fragment,null,"image"===e.message_type?r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{className:"activity_selectedimage",src:e.content}),r.a.createElement("img",{className:"activity_selectedimage",src:e.photo}),r.a.createElement("div",{className:"chat_doc_container"},r.a.createElement("div",{className:"chat_file_name"},Te(e.content)),r.a.createElement("img",{className:"chat_doc_icon",src:ce,onClick:function(){window.open(e.content)}}))):r.a.createElement("div",{className:"chat_doc_upload"},r.a.createElement("div",{className:"chat_doc_container"},r.a.createElement("img",{className:"chat_doc_icon",src:ne}),r.a.createElement("div",{className:"chat_file_name"},Te(e.content))),r.a.createElement("img",{className:"chat_doc_icon",src:ce,onClick:function(){window.open(e.content)}})))),r.a.createElement("div",{className:"chat_mymessage_time"},e.time)):r.a.createElement("div",{className:"chat_recievedmessage_container"},r.a.createElement("div",{className:"message recievedmessage"},r.a.createElement("div",{className:"chat_user_name"},e.name),"text"===e.message_type?r.a.createElement("div",{className:"chat_text_message"},!0===a?r.a.createElement("a",{target:"_blank",href:"https://"+e.content},e.content):e.content):r.a.createElement(r.a.Fragment,null,"image"===e.message_type?r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("img",{className:"activity_selectedimage",src:e.content}),r.a.createElement("div",{className:"chat_doc_container"},r.a.createElement("div",{className:"chat_file_name"},Te(e.content)),r.a.createElement("img",{className:"chat_doc_icon",src:ce,onClick:function(){window.open(e.content)}}))):r.a.createElement("div",{className:"chat_doc_upload recievedmessage"},r.a.createElement("div",{className:"chat_doc_container"},r.a.createElement("img",{className:"chat_doc_icon",src:ne}),r.a.createElement("div",{className:"chat_file_name"},Te(e.content))),r.a.createElement("img",{className:"chat_doc_icon",src:ce,onClick:function(){window.open(e.content)}})))),r.a.createElement("div",{className:"chat_recievedmessage_time"},e.time))}))),r.a.createElement("div",{className:"bottom_container",style:{background:T.color_14}},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"icon_container",onClick:function(){G(!Q)}},r.a.createElement("img",{className:"iconimg",src:te}),r.a.createElement("input",{id:"myInput",type:"file",onChange:function(t){return n=t,a=new FormData,r=n.target.files[0],a.append("file",r),void Object(y.e)(Ie,e,a,r);var n,a,r},ref:u}))),r.a.createElement("input",{className:"message_box",style:{color:T.color_2,backgroundColor:T.color_5},placeholder:"Type a message",type:"text",onChange:function(e){Ee(e.target.value)},value:_e,onKeyPress:function(e){"Enter"===e.key&&Oe()},onClick:function(){G(!1)}}),me?r.a.createElement("div",{className:"icon_container",style:{backgroundColor:T.color_12},onClick:function(){Ce(),k(!1)}},r.a.createElement("img",{className:"iconimg",src:ee})):r.a.createElement("div",{className:"icon_container",style:{backgroundColor:T.color_12},onClick:function(e){Oe()}},r.a.createElement("img",{className:"iconimg",src:ee}))),Q&&r.a.createElement("div",{className:"attachments_container"},r.a.createElement("img",{className:"iconimg",src:re,onClick:function(){b(!_)}}),r.a.createElement("img",{className:"iconimg",src:ne,onClick:function(){De()}}),r.a.createElement("img",{className:"iconimg",src:ae,onClick:function(){De()}})),_&&r.a.createElement("div",{className:"camera"},r.a.createElement(X.a,{ref:f}),r.a.createElement("button",{className:"camera_click",onClick:function(){g(null==f?void 0:f.current.takePhoto()),Ne(null==f?void 0:f.current.takePhoto()),b(!1),k(!0)}},"Take photo")),N&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"camera_img_preview",src:h,alt:"Taken photo",onClick:function(){}})),r.a.createElement("div",null)))))),r.a.createElement(x.a,null))};function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ee=[{path:"/Home",component:R.a},{path:"/Project",component:m.a},{path:"/Chat/:id",component:ge},{path:"/TaskList",component:u.a},{path:"/TaskTimeLog",component:V.a},{path:"/TestingChecklist",component:p.a},{path:"/BugList",component:J},{path:"/UserManagement",component:f.a},{path:"/UserProfile",component:M.a},{path:"/UserSettings",component:L.a},{path:"/NewUserForm",component:U.a},{path:"/TestSelectionForm",component:B.a},{path:"/ApiRecords",component:Z.a},{path:"/Notifications",component:W.a},{path:"/report",component:Y.a},{path:"/AppGantt",component:q.a},{path:"/Meeting",component:d.a},{path:"/ServerStatus",component:Q.a}],ye=[{path:"/",component:s.a},{path:"/MeetingRoom/:roomID",component:$.a},{path:"/AnalyticsFullScreen",component:Y.a}];t.a=Object(o.i)((function(){var e=ve(Object(a.useState)(!0),2),t=e[0],n=e[1];Object(a.useEffect)((function(){s(),navigator.userAgent.toLowerCase().indexOf("safari/")>-1&&Object(H.b)(),l.a.pageview(window.location.pathname+window.location.search)}),[]),navigator.userAgent.toLowerCase().indexOf("safari/")>-1&&Object(H.c)().then((function(e){!function e(t){if(!(!1 in window))if(console.log(Notification.permission),"default"===Notification.permission)Notification.requestPermission((function(){e(t)}));else if("granted"===Notification.permission){var n=new Notification("New message",t.notification);n.onclick=function(){this.close()},n.onclose=function(){console.log("Notification closed")}}else if("denied"===Notification.permission)return}(e)})).catch((function(e){return console.log("failed: ",e)}));var s=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),console.log("PERMISSION : :",!0),n(!0),!0}catch(e){return console.log("PERMISSION : :",!1),n(!1),!1}};return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(c.b,null,r.a.createElement(o.c,null,ye.map((function(e){return r.a.createElement(o.a,{exact:!0,path:e.path},r.a.createElement(e.component,null))})),Ee.map((function(e){var t=ve(Object(a.useState)(),2),n=t[0],c=t[1];return r.a.createElement(o.a,{exact:!0,path:e.path},r.a.createElement(F.a,{screen:r.a.createElement(e.component,{setheader_options:c}),screen_name:e.path,header_options:n}))})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{localstorage_permission:"disable"})))}))}}]);